<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="description" content="OOO 홈페이지 입니다.">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="HandheldFriendly" content="true">
	<meta name="format-detection" content="telephone=no">

	<meta property="og:title" content="">
	<meta property="og:type" content="">
	<meta property="og:url" content="">
	<meta property="og:image" content="">
	<meta property="og:description" content="OOO 홈페이지 입니다.">

	<meta http-equiv="X-UA-Compatible" content="IE=Edge; chrome=1">

	<link rel="canonical" href="">


	<title></title>


	<!-- favicon -->
	<link rel="shortcut icon" href="../assets/images/favicon/favicon.ico">
 


	<!-- css :: lib -->
	<!-- <link rel="stylesheet" href="./assets/css/jquery-ui.min.css">
	<link rel="stylesheet" href="./assets/css/swiper.min.css">
	<link rel="stylesheet" href="./assets/css/slick.css"> -->


	<!-- css -->
  <link rel="stylesheet" href="../assets/scss/common/datepicker.min.css">
	<link rel="stylesheet" href="../assets/scss/common/jquery.mCustomScrollbar.min.css">
	<link rel="stylesheet" href="../assets/scss/adm/admin.css">

	<!-- js :: lib -->
	<script type="text/javascript" src="../assets/js/lib/jquery-1.12.4.js"></script>
	<script type="text/javascript" src="../assets/js/lib/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../assets/js/lib/jquery.modal.min.js"></script>
  <script type="text/javascript" src="../assets/js/lib/jquery.selectric.js"></script>
	<script type="text/javascript" src="../assets/js/lib/jquery.mCustomScrollbar.concat.min.js"></script>
  <script type="text/javascript" src="../assets/js/lib/datepicker.min.js"></script>


	<!-- js :: common -->
	<script type="text/javascript" src="../assets/js/adm/admin.js"></script>
</head>


<!-- 1. type-red, type-orange, type-yellow ... 등 클래스 추가 시 배경 색상 변경 -->
<!-- 2. 관리자 페이지 admin 클래스 추가 -->

<body class="admin">
  <div class="message-send__wrap">
    <div class="tab-cont__wrap">
      <div class="tab-cont active" data-index="0">
        <div class="row row-cols-2">
          <div class="col-3">
            <div class="card message-box">
              <div class="message-box__tit f-c-space">
                <h3>미리보기</h3>
                <button type="button" class="btn btn-small01 btn-center btn-special" onclick="showSpecialCharPopup(this)">특수문자</button>
                <div class="char-popup"></div>
              </div>
              <div class="message-box__cont">
                <textarea placeholder="내용 입력" maxlength="2000"></textarea>
                <div class="byte-count"><b>0</b> / 2000 Bytes</div>
              </div>
              <div class="message-box__check">
                <div class="checkbox">
                  <input type="checkbox" id="addTxt" name="addTxt">
                  <label for="addTxt">[추가] 무료거부 080-1234-5678</label>
                </div>
              </div>
  
              <div class="message-box__image">
                <div class="message-box__tit">
                  <h3>이미지 추가</h3>
                </div>
                <div class="add-image">
                  <button type="button" class="btn btn-addFile ico" title="" onclick='$("#ATFILE0_").click();'><i class="ico-floating_gray"></i></button>   
                  <input type="file"  id="ATFILE0_" name="ATFILE0_" style="display:none;"  accept="image/*"/>
                  <ul id="fileList" class="file-list">
                    <li id="" style="">
                      <input type="file" id="" name="" style="display:none;" multiple="" accept=".jpg, .png, .bmp, .jpeg">
                      <input type="text" id="" name="" readonly="" disbaled="" style="display: none;">
                      <input type="hidden" id="" value="1">
                      <button type="button" class="img-delBtn ico" title="삭제" onclick="fnDelSelectorFile(this)">
                        <i class="ico-file_del"></i>
                      </button> 
                      <img src="../assets/images/test/message-test.png" alt="">
                    </li>
                  </ul>                   
                </div>
              </div>
              <div class="message-box__info">
                발신번호 : 070-1234-5678<br>
                발신번호 변경 시, 관리자에게 꼭 문의주세요.
              </div>
            
            </div>
          </div>
  
          <div class="col-9 col-group">
            <div class="card">
              <div class="tab-layout">
                <div class="tab-menu tab-menu__control f-c-space">
                  <div class="tab-title txt-l">문구 템플릿</div>
                </div>
                <div class="tab-cont__wrap">
                  <div class="tab-control">
                    <div class="mo-ver">
                      <button type="button" class="btn btn-addFile list-btn btn-basic02 ico" title="" onclick=''>
                        <i class="ico-floating_gray"></i>
                        <span>+ <span class="mo-none">템플릿</span> 추가</span>
                      </button>   
                    </div>
                    
                    <button type="button" class="btn list-btn btn-active"><span class="mo-none">템플릿</span> 저장</button>
                  </div>
                  <div class="template-grid">
  
                    <div class="template-item template-add  pc-ver">
                      <div class="message-box__tit">
                        <h3>템플릿 추가</h3>
                      </div>
                      <div class="pc-ver">
                        <button type="button" class="btn btn-addFile ico" title="" onclick=''>
                        <i class="ico-floating_gray"></i>
                        <span>+ 템플릿 추가</span>
                      </button>   
                      </div>
                      
                    </div>
                    <!-- 템플릿 추가 -->
  
                    <!-- 템플릿 항목 반복 -->
                    <div class="template-item">
                        <div class="message-box__tit f-c-space">
                          <div class="checkbox">
                            <input type="radio" id="TEMP_MESS01" name="TEMP_MESS">
                            <label for="TEMP_MESS01">템플릿1</label>
                          </div>
                          <div class="f-h-c gap-5">
                            <button type="button" class="btn btn-small01 btn-center btn-special" onclick="showSpecialCharPopup(this)">특수문자</button>
                            <div class="char-popup"></div>
                            <button type="button" class="btn btn-delete ico">
                              <i class="ico-list_delete"></i>
                            </button>
                          </div>
                        </div>
                        <div class="message-box__cont">
<textarea placeholder="내용 입력" maxlength="2000">후보 캠프1,
안녕하세요, 주민 여러분.
○○○는 금천구에 꼭 필요한 [청년주거 지원 확대/노후 재개발 추진/경로당 개선]을 약속드립니다.
실천하는 후보 ○○○에게 소중한 한 표를 부탁드립니다.
감사합니다!
</textarea>
                          <div class="byte-count"><b>0</b> / 2000 Bytes</div>
                        </div>
                    </div>
                    <div class="template-item">
                        <div class="message-box__tit f-c-space">
                          <div class="checkbox">
                            <input type="radio" id="TEMP_MESS02" name="TEMP_MESS">
                            <label for="TEMP_MESS02">템플릿2</label>
                          </div>
                          <div class="f-h-c gap-5">
                            <button type="button" class="btn btn-small01 btn-center btn-special" onclick="showSpecialCharPopup(this)">특수문자</button>
                            <div class="char-popup"></div>
                            <button type="button" class="btn btn-delete ico">
                              <i class="ico-list_delete"></i>
                            </button>
                          </div>
                        </div>
                        <div class="message-box__cont">
<textarea placeholder="내용 입력" maxlength="2000">후보 캠프1,
안녕하세요, 주민 여러분.
○○○는 금천구에 꼭 필요한 [청년주거 지원 확대/노후 재개발 추진/경로당 개선]을 약속드립니다.
실천하는 후보 ○○○에게 소중한 한 표를 부탁드립니다.
감사합니다!</textarea>
                          <div class="byte-count"><b>0</b> / 2000 Bytes</div>
                        </div>
                    </div>
                    <div class="template-item">
                        <div class="message-box__tit f-c-space">
                          <div class="checkbox">
                            <input type="radio" id="TEMP_MESS03" name="TEMP_MESS">
                            <label for="TEMP_MESS03">템플릿3</label>
                          </div>
                          <div class="f-h-c gap-5">
                            <button type="button" class="btn btn-small01 btn-center btn-special" onclick="showSpecialCharPopup(this)">특수문자</button>
                            <div class="char-popup"></div>
                            <button type="button" class="btn btn-delete ico">
                              <i class="ico-list_delete"></i>
                            </button>
                          </div>
                        </div>
                        <div class="message-box__cont">
                          <textarea placeholder="내용 입력" maxlength="2000"></textarea>
                          <div class="byte-count"><b>0</b> / 2000 Bytes</div>
                        </div>
                    </div>
                    <div class="template-item">
                        <div class="message-box__tit f-c-space">
                          <div class="checkbox">
                            <input type="radio" id="TEMP_MESS04" name="TEMP_MESS">
                            <label for="TEMP_MESS04">템플릿4</label>
                          </div>
                          <div class="f-h-c gap-5">
                            <button type="button" class="btn btn-small01 btn-center btn-special" onclick="showSpecialCharPopup(this)">특수문자</button>
                            <div class="char-popup"></div>
                            <button type="button" class="btn btn-delete ico">
                              <i class="ico-list_delete"></i>
                            </button>
                          </div>
                        </div>
                        <div class="message-box__cont">
                          <textarea placeholder="내용 입력" maxlength="2000"></textarea>
                          <div class="byte-count"><b>0</b> / 2000 Bytes</div>
                        </div> 
                    </div>
                    <div class="template-item">
                        <div class="message-box__tit f-c-space">
                          <div class="checkbox">
                            <input type="radio" id="TEMP_MESS05" name="TEMP_MESS">
                            <label for="TEMP_MESS05">템플릿5</label>
                          </div>
                          <div class="f-h-c gap-5">
                             <button type="button" class="btn btn-small01 btn-center btn-special" onclick="showSpecialCharPopup(this)">특수문자</button>
                            <div class="char-popup"></div>
                            <button type="button" class="btn btn-delete ico">
                              <i class="ico-list_delete"></i>
                            </button>
                          </div>
                        </div>
                        <div class="message-box__cont">
                          <textarea placeholder="내용 입력" maxlength="2000"></textarea>
                          <div class="byte-count"><b>0</b> / 2000 Bytes</div>
                        </div>
                    </div>
                    <!-- 템플릿 항목 반복 끝 -->
                  </div>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="tab-layout">
                <div class="tab-menu tab-menu__control f-c-space">
                  <div class="tab-title txt-l">수신번호(43)</div>
                </div>
                <div class="tab-cont__wrap">
                  <div class="tab-control f-h-c gap-20">
                    <div class="checkbox-wrap flex gap-10">
                      <div class="checkbox">
                        <input type="checkbox" id="sendVoter" name="sendVoter" class="sendCheck">
                        <label for="sendVoter">전체 유권자 <span class="mo-none">발송</span></label>
                      </div>
                      <div class="checkbox">
                        <input type="checkbox" id="sendCamp" name="sendCamp" class="sendCheck">
                        <label for="sendCamp">전체 조직원 <span class="mo-none">발송</span></label>
                      </div>
                    </div>
                    <button type="button" class="btn list-btn btn-active" onclick="window.parent.parent.openPopup('../../../popup/addReciveNm.html', 1400, 849, false, 'popup-lg', 1)">+ 수신번호 추가</button>
                  </div>
                  <div class="sendInfo">
                    <div class="sendInfo-list f-h-c gap-10">
                        조직원 전체 43명
                        <button type="button" class="img-delBtn ico" title="삭제" onclick="fnDelSelectorThis(this)">
                        <i class="ico-file_del"></i>
                      </button>
                    </div>
                    <div class="sendInfo-list f-h-c gap-10">
                      조직원 검색 ‘매천면 > 덕산리’ 21명
                        <button type="button" class="img-delBtn ico" title="삭제" onclick="fnDelSelectorThis(this)">
                        <i class="ico-file_del"></i>
                      </button>
                    </div>
                  </div>
                  
                  <div class="table-wrap bg-primary-10 radius-20">
                    <div class="table-scroll">
                      <table class="table">
                        <thead>
                          <tr>
                            <th>번호</th>
                            <th>구분</th>
                            <th>이름</th>
                            <th>성별</th>
                            <th>나이</th>
                            <th>수신번호</th>
                            <th>지역</th>
                            <th>삭제</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="td_num width-100">43</td>
                            <td class="td_category width-80 td_right right02">유권자</td>
                            <td class="td_name width-100">
                              <input type="text" value="박종식" class="width-full input-small pc-ver">
                              <div class="mo-ver width-full">
                                <div class="profile f-c-space">
                                  <a href="./detail.html" class="tit">
                                    <b>박종식</b><span>(<span class="txt-16">남</span>, 67<span class="txt-16">세</span>)</span>
                                  </a>
                                  <div class="td-txt f-c-all">
                                    010-1234-5678
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="td_gender td-pc">남</td>
                            <td class="td_age td-pc">67</td>
                            <td class="td_tel width-180 td-pc"><input type="text" value="010-1234-5678" class="width-full input-small"></td>
                            <td class="td_region width-450">
                              경상남도 > 호고군 > 이호읍 > 시읍리
                            </td>
                            <td class="td_delete width-80 td_right">
                              <button type="button" class="btn btn-delete btn-center ico" onclick="window.parent.parent.openPopup('../../../popup/deletePopup.html', 324, null, true, 'popup-xs');">
                                <i class="ico-list_delete"></i>
                              </button>
                            </td>
                            <td class="td_setting mo-ver td_right right01">
                              <button type="button" class="btn btn-setting ico" onclick="window.parent.parent.openPopup('../../../popup/peopleEdit2_number.html', 700, 786)">
                                <i class="ico-setting"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td class="td_num width-100">43</td>
                            <td class="td_category width-80 td_right right02">유권자</td>
                            <td class="td_name width-100">
                              <input type="text" value="박종식" class="width-full input-small pc-ver">
                              <div class="mo-ver width-full">
                                <div class="profile f-c-space">
                                  <a href="./detail.html" class="tit">
                                    <b>박종식</b><span>(<span class="txt-16">남</span>, 67<span class="txt-16">세</span>)</span>
                                  </a>
                                  <div class="td-txt f-c-all">
                                    010-1234-5678
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="td_gender td-pc">남</td>
                            <td class="td_age td-pc">67</td>
                            <td class="td_tel width-180 td-pc"><input type="text" value="010-1234-5678" class="width-full input-small"></td>
                            <td class="td_region width-450">
                              경상남도 > 호고군 > 이호읍 > 시읍리
                            </td>
                            <td class="td_delete width-80 td_right">
                              <button type="button" class="btn btn-delete btn-center ico" onclick="window.parent.parent.openPopup('../../../popup/deletePopup.html', 324, null, true, 'popup-xs');">
                                <i class="ico-list_delete"></i>
                              </button>
                            </td>
                            <td class="td_setting mo-ver td_right right01">
                              <button type="button" class="btn btn-setting ico" onclick="window.parent.parent.openPopup('../../../popup/peopleEdit2_number.html', 700, 786)">
                                <i class="ico-setting"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td class="td_num width-100">43</td>
                            <td class="td_category width-80 td_right right02">유권자</td>
                            <td class="td_name width-100">
                              <input type="text" value="박종식" class="width-full input-small pc-ver">
                              <div class="mo-ver width-full">
                                <div class="profile f-c-space">
                                  <a href="./detail.html" class="tit">
                                    <b>박종식</b><span>(<span class="txt-16">남</span>, 67<span class="txt-16">세</span>)</span>
                                  </a>
                                  <div class="td-txt f-c-all">
                                    010-1234-5678
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="td_gender td-pc">남</td>
                            <td class="td_age td-pc">67</td>
                            <td class="td_tel width-180 td-pc"><input type="text" value="010-1234-5678" class="width-full input-small"></td>
                            <td class="td_region width-450">
                              경상남도 > 호고군 > 이호읍 > 시읍리
                            </td>
                            <td class="td_delete width-80 td_right">
                              <button type="button" class="btn btn-delete btn-center ico">
                                <i class="ico-list_delete"></i>
                              </button>
                            </td>
                            <td class="td_setting mo-ver td_right right01">
                              <button type="button" class="btn btn-setting ico" onclick="window.parent.parent.openPopup('../../../popup/peopleEdit2_number.html', 700, 786)">
                                <i class="ico-setting"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td class="td_num width-100">43</td>
                            <td class="td_category width-80 td_right right02">유권자</td>
                            <td class="td_name width-100">
                              <input type="text" value="박종식" class="width-full input-small pc-ver">
                              <div class="mo-ver width-full">
                                <div class="profile f-c-space">
                                  <a href="./detail.html" class="tit">
                                    <b>박종식</b><span>(<span class="txt-16">남</span>, 67<span class="txt-16">세</span>)</span>
                                  </a>
                                  <div class="td-txt f-c-all">
                                    010-1234-5678
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="td_gender td-pc">남</td>
                            <td class="td_age td-pc">67</td>
                            <td class="td_tel width-180 td-pc"><input type="text" value="010-1234-5678" class="width-full input-small"></td>
                            <td class="td_region width-450">
                              경상남도 > 호고군 > 이호읍 > 시읍리
                            </td>
                            <td class="td_delete width-80 td_right">
                              <button type="button" class="btn btn-delete btn-center ico" onclick="window.parent.parent.openPopup('../../../popup/deletePopup.html', 324, null, true, 'popup-xs');">
                                <i class="ico-list_delete"></i>
                              </button>
                            </td>
                            <td class="td_setting mo-ver td_right right01">
                              <button type="button" class="btn btn-setting ico" onclick="window.parent.parent.openPopup('../../../popup/peopleEdit2_number.html', 700, 786)">
                                <i class="ico-setting"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td class="td_num width-100">43</td>
                            <td class="td_category width-80 td_right right02">유권자</td>
                            <td class="td_name width-100">
                              <input type="text" value="박종식" class="width-full input-small pc-ver">
                              <div class="mo-ver width-full">
                                <div class="profile f-c-space">
                                  <a href="./detail.html" class="tit">
                                    <b>박종식</b><span>(<span class="txt-16">남</span>, 67<span class="txt-16">세</span>)</span>
                                  </a>
                                  <div class="td-txt f-c-all">
                                    010-1234-5678
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="td_gender td-pc">남</td>
                            <td class="td_age td-pc">67</td>
                            <td class="td_tel width-180 td-pc"><input type="text" value="010-1234-5678" class="width-full input-small"></td>
                            <td class="td_region width-450">
                              경상남도 > 호고군 > 이호읍 > 시읍리
                            </td>
                            <td class="td_delete width-80 td_right">
                              <button type="button" class="btn btn-delete btn-center ico" onclick="window.parent.parent.openPopup('../../../popup/deletePopup.html', 324, null, true, 'popup-xs');">
                                <i class="ico-list_delete"></i>
                              </button>
                            </td>
                            <td class="td_setting mo-ver td_right right01">
                              <button type="button" class="btn btn-setting ico" onclick="window.parent.parent.openPopup('../../../popup/peopleEdit2_number.html', 700, 786)">
                                <i class="ico-setting"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td class="td_num width-100">43</td>
                            <td class="td_category width-80 td_right right02">유권자</td>
                            <td class="td_name width-100">
                              <input type="text" value="박종식" class="width-full input-small pc-ver">
                              <div class="mo-ver width-full">
                                <div class="profile f-c-space">
                                  <a href="./detail.html" class="tit">
                                    <b>박종식</b><span>(<span class="txt-16">남</span>, 67<span class="txt-16">세</span>)</span>
                                  </a>
                                  <div class="td-txt f-c-all">
                                    010-1234-5678
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="td_gender td-pc">남</td>
                            <td class="td_age td-pc">67</td>
                            <td class="td_tel width-180 td-pc"><input type="text" value="010-1234-5678" class="width-full input-small"></td>
                            <td class="td_region width-450">
                              경상남도 > 호고군 > 이호읍 > 시읍리
                            </td>
                            <td class="td_delete width-80 td_right">
                              <button type="button" class="btn btn-delete btn-center ico" onclick="window.parent.parent.openPopup('../../../popup/deletePopup.html', 324, null, true, 'popup-xs');">
                                <i class="ico-list_delete"></i>
                              </button>
                            </td>
                            <td class="td_setting mo-ver td_right right01">
                              <button type="button" class="btn btn-setting ico" onclick="window.parent.parent.openPopup('../../../popup/peopleEdit2_number.html', 700, 786)">
                                <i class="ico-setting"></i>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      
                      </table>
                    </div>
          
                    
                  </div>
  
                  <div class="tab-footer f-c-space">
                    <div class="tab-footer__l f-h-c gap-10">
                      <div class="checkbox">
                        <input type="checkbox" id="reserveSend" name="reserveSend">
                        <label for="reserveSend">예약발송</label>
                      </div>
                      <div class="date-wrap f-h-c">
                        <input class="datepicker-here input-small" id="date" name="date" data-language="kr" type="text" placeholder="행사일" data-date-format="yyyy.mm.dd" value="2025.05.07" autocomplete="off" title="" maxlength="10">
                          <div class="select-wrap type02">
                        <select name="" id="" class="">
                          <option value="">시</option>
                          <option value="" selected>오전 12시</option>
                        </select>
                
                        <select name="" id="" class="">
                          <option value="">분</option>
                          <option value="" selected>30분</option>
                        </select>
                      </div>
                      </div>
                    
                    </div>
                    <div class="tab-footer__r f-h-c gap-15">
                      <div class="send-txt">남은 문자 수 <b>3건</b></div>
                      <div class="btn-wrap f-v-r">
                        <button type="button" class="btn list-btn btn-basic02" onclick="moveToTab(2)">문자 충전</button>
                        <button type="button" class="btn list-btn btn-navy" onclick="window.parent.parent.openPopup('../../../popup/sendMsg.html', 324, 250, true)">문자 발송</button>
                        <!-- 눌렀을때 바로 안내 팝업뜸. 전체 인원수가 많으면 예 3천명이 넘는다면 다 로딩하기에는 너무 길어서 리스트 부르지 않고 바로 발송 -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="layerPopup" class="popup" style="display: none;">
    <div class="popup-overlay" onclick="closePopup()"></div>
    <div class="popup-wrap" id="popupWrap">
      <button type="button" class="btn-close ico" onclick="closePopup()"><i class="ico-cancel"></i></button>      
      <iframe id="popupIframe" src="" frameborder="0" width="100%" height="100%"></iframe>
    </div>
  </div>
  <!-- 공통 팝업 컨테이너 -->
</body>
</html>

 


  <script>

    function resizeParentIframe() {
      const height = document.body.scrollHeight;
      window.parent.postMessage({ type: 'resize-iframe', height }, '*');
    }

    window.addEventListener('load', () => {
      resizeParentIframe();
      setTimeout(notifyParentHeight, 300); // 이미지 로드 이후 안정화
    });
    window.addEventListener('resize', resizeParentIframe);


      document.addEventListener('DOMContentLoaded', () => {
        initSettingMenu();
        initMessageByteCount();
        initMobileTabToggle();
        initSpecialCharButton();
        initSendCheckboxToggle();

      });

      // 관리메뉴 클릭 이벤트
      function initSettingMenu() {
        const menus = document.querySelectorAll('.setting-menu');
        menus.forEach(menu => {
          const btn = menu.querySelector('.btn-setting');
          const dropdown = menu.querySelector('.setting-drop');
          btn.addEventListener('click', e => {
            e.stopPropagation();
            menus.forEach(m => m.querySelector('.setting-drop').classList.remove('active'));
            dropdown.classList.toggle('active');
          });
        });
        document.addEventListener('click', () => {
          document.querySelectorAll('.setting-drop.active').forEach(drop => drop.classList.remove('active'));
        });
      }

      // 문자메시지 byte 
      function initMessageByteCount() {
        document.querySelectorAll('.message-box__cont').forEach(box => {
          const textarea = box.querySelector('textarea');
          const byteCount = box.querySelector('.byte-count b');
          if (!textarea || !byteCount) return;
          const updateByteCount = () => {
            const text = textarea.value;
            const bytes = [...text].reduce((acc, ch) => acc + (ch.charCodeAt(0) > 0x7f ? 2 : 1), 0);
            byteCount.textContent = `${bytes}`;
          };
          textarea.addEventListener('input', updateByteCount);
          updateByteCount();
        });
      }

      // 모바일에서 탭 메뉴 열고 닫기
      function initMobileTabToggle() {
        document.querySelectorAll('.tab-menu__control').forEach(menu => {
          menu.addEventListener('click', () => {
            const cont = menu.nextElementSibling;
            cont.classList.toggle('open');
            menu.classList.toggle('active');
            resizeParentIframe();

          });
        });
      }


      function showSpecialCharPopup(button) {
        // 버튼 기준으로 가장 가까운 textarea 찾기
        const container = button.closest('.message-box') || button.closest('.template-item');
        const textarea = container.querySelector('textarea');
        const popup = button.nextElementSibling; // 버튼 옆에 있는 .char-popup div

        // 다른 팝업 다 닫기
        document.querySelectorAll('.char-popup').forEach(p => {
          if (p !== popup) p.style.display = 'none';
        });

        // innerHTML 전체 구성
        popup.innerHTML = `
          <div class="popup-header" >
            <h2 class="popup-title">특수문자 선택</h2>
            <button type="button" class="btn-close ico" onclick="this.closest('.char-popup').style.display='none'">
              <i class="ico-popup_cancel"></i>
            </button>
          </div>
          <div class="char-grid" >
            <button class="char">★</button>
            <button class="char">☆</button>
            <button class="char">☎</button>
            <button class="char">☏</button>
            <button class="char">☜</button>
            <button class="char">☞</button>
            <button class="char">※</button>
            <button class="char">♥</button>
            <button class="char">♡</button>
            <button class="char">♣</button>
            <button class="char">♠</button>
            <button class="char">♤</button>
            <button class="char">♧</button>
            <button class="char">♨</button>
          </div>
        `;

        // 이벤트 연결
        popup.querySelectorAll('.char').forEach(charBtn => {
          charBtn.addEventListener('click', () => {
            insertAtCursor(textarea, charBtn.textContent);
            popup.style.display = 'none';
          });
        });

        // 토글 열고 닫기
        popup.style.display = (popup.style.display === 'block') ? 'none' : 'block';
      }

      function insertAtCursor(textarea, text) {
        const start = textarea.selectionStart;
        const end = textarea.selectionEnd;
        const value = textarea.value;
        textarea.value = value.substring(0, start) + text + value.substring(end);
        textarea.selectionStart = textarea.selectionEnd = start + text.length;
        textarea.focus();
      }



      // 이동
      function moveToTab(tabIndex) {
        if (window.parent) {
          const iframe = window.parent.document.getElementById('tabIframe');
          const tabButtons = window.parent.document.querySelectorAll('.tab-btn');

          // 탭 인덱스에 따라 URL 지정 (상대경로는 그대로 유지)
          let url = '';
          if (tabIndex === 0) url = 'partial-send.html';
          else if (tabIndex === 1) url = 'partial-history.html';
          else if (tabIndex === 2) url = 'partial-charge.html';

          // iframe src 변경 (popup 폴더 기준으로 경로 수정)
          if (iframe && url) {
            iframe.src = `../../../popup/${url}`;
          }

          // active 클래스 토글
          tabButtons.forEach(btn => {
            const btnUrl = btn.getAttribute('data-url');
            btn.classList.toggle('active', btnUrl === url);
          });
        }
      }



      // 이미지 삭제
      function fnDelSelectorFile(button) {
        const li = button.closest('li');
        if (li) {
          li.remove();

          // iframe 부모에게 높이 재조정 요청
          if (window.parent) {
            const height = document.documentElement.scrollHeight;
            window.parent.postMessage({ type: 'resize-iframe', height }, '*');
          }
        }
      }


   // 체크박스 체크 시 변경
   function initSendCheckboxToggle() {
    document.querySelectorAll('.checkbox .sendCheck').forEach(checkbox => {
      const wrapper = checkbox.closest('.checkbox');
      checkbox.addEventListener('change', () => wrapper.classList.toggle('on', checkbox.checked));
      wrapper.classList.toggle('on', checkbox.checked);
    });
  }



  </script>